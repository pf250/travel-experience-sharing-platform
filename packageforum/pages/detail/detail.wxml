<view class="container">
  <!-- Â∏ñÂ≠êËØ¶ÊÉÖ -->
  <view class="post-detail">
    <view class="userinfo">
      <view class="userinfo-top">
        <!-- Â§¥ÂÉè -->
        <image class="avatar" src="{{post.avatarUrl}}"></image>
        <!-- ÊòµÁß∞ -->
        <text class="username">{{post.nickName}}</text>
      </view>
      <!-- Áî®Êà∑‰ø°ÊÅØ -->
      <view class="post-meta">
        <text class="post-author">Uid: {{post.userId}}</text>
        <text class="post-time">Êó∂Èó¥Ôºö{{post.formattedTime}}</text>
      </view>
    </view>
    <!-- Ê†áÈ¢ò -->
    <view class="post-title">{{post.title}}</view>
    <!-- ÊèèËø∞ -->
    <view class="post-description">{{post.description}}</view>
    <!-- ÂõæÁâá -->
    <view class="post-images" wx:if="{{post.images.length > 0}}">
      <image
        wx:for="{{post.images}}"
        wx:key="index"
        src="{{item}}"
        mode="aspectFill"
        class="post-image"
      ></image>
    </view>

    <!-- ÁÇπËµûÂíåËØÑËÆ∫ -->
    <view class="post-actions">
      <!-- ÁÇπËµûÊåâÈíÆ -->
      <button
        class="like-btn"
        bindtap="handleLike"
        data-post-id="{{post._id}}"
      >
        <text>üëç</text> {{post.likeCount || 0}}
      </button>
      <!-- ËØÑËÆ∫ÊåâÈíÆ -->
      <button
        class="comment-btn"
        bindtap="toggleCommentSection"
        data-post-id="{{post._id}}"
      >
        <text>üí¨</text> {{post.commentCount || 0}}
      </button>
    </view>
    <!-- ËØÑËÆ∫Âå∫Âüü -->
    <view class="comments-section">
      <view class="comment-list">
        <block wx:for="{{comments}}" wx:key="_id">
          <view class="comment-item">
            <!-- Â§¥ÂÉè -->
            <image class="comment-avatar" src="{{item.avatarUrl}}"></image>
            <!-- ÊòµÁß∞ -->
            <text class="comment-nickname">{{item.nickName}}:</text>
            <!-- ËØÑËÆ∫ÂÜÖÂÆπ -->
            <text class="comment-content">{{item.content}}</text>
            <!-- ËØÑËÆ∫Êó∂Èó¥ -->
            <text class="comment-time">{{item.formattedTime}}</text>
          </view>
        </block>
      </view>
      <!-- ÂèëË°®ËØÑËÆ∫ËæìÂÖ•Ê°Ü -->
      <view class="comment-input" wx:if="{{showCommentInput}}">
        <input
          type="text"
          placeholder="ÂèëË°®ËØÑËÆ∫..."
          value="{{newComment}}"
          bindinput="onCommentInput"
        />
        <button bindtap="handleComment" data-post-id="{{post._id}}">
          ÂèëË°®
        </button>
      </view>
    </view>
  </view>
</view>