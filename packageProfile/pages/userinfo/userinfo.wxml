<view class="profile-edit-container">
  <!-- 头像选择 -->
  <view class="avatar-section">
    <button class="avatar-wrapper" open-type="chooseAvatar" bind:chooseavatar="onChooseAvatar">
      <image class="avatar" src="{{avatarUrl}}"></image>
    </button>
    <text class="avatar-tip">点击头像上传新图片</text>
  </view>

  <!-- 信息列表 -->
  <view class="info-list">

    <view class="info-item">
      <text class="info-label">Uid</text>
      <text class="info-value">{{userId || '暂无数据'}}</text>
    </view>

  <!-- 昵称 -->
    <!-- 昵称 -->
    <view class="info-item">
      <text class="info-label">昵称</text>
      <!-- 关键修改：使用 type="nickname" 并添加 bindnicknamereview 事件 -->
      <input
        type="nickname"
        class="info-input"
        placeholder="请输入昵称"
        maxlength="6"
        value="{{nickName}}"
        bindblur="onNicknameBlur"
        bindnicknamereview="onNicknameReview"
        bindinput="onNicknameInput"
      />
    </view>

    <!-- 手机号 -->
    <view class="info-item">
      <text class="info-label">手机号</text>
      <input
        type="tel"
        class="info-input"
        placeholder="请输入手机号"
        value="{{phone}}"
        bindblur="onPhoneBlur"
      />
    </view>

    <!-- 姓名 -->
    <view class="info-item">
      <text class="info-label">姓名</text>
      <input
        type="text"
        class="info-input"
        placeholder="请输入姓名"
        value="{{name}}"
        bindblur="onNameBlur"
      />
    </view>

    <!-- 性别 -->
    <view class="info-item">
      <text class="info-label">性别</text>
      <picker mode="selector" range="{{['男', '女']}}" bindchange="onSexChange">
        <view class="picker-result">{{sex || '请选择性别'}}</view>
      </picker>
    </view>


    <!-- 注册时间 -->
    <view class="info-item">
      <text class="info-label">注册时间</text>
      <text class="info-value">{{registerTime || '暂无数据'}}</text>
    </view>
  </view>



  <!-- 保存按钮 -->
  <button class="save-button" bindtap="handleSave">保存</button>

  <!-- 退出登录按钮 -->
  <button class="logout-button" bindtap="handleLogout">退出登录</button>
</view>