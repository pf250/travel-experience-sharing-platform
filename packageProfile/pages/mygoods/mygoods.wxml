<!--packageProfile/pages/mygoods/mygoods.wxml-->
<view class="container">
  <!-- 加载中状态 -->
  <view class="loading-container" wx:if="{{loading}}">
    <text>加载中...</text>
  </view>

  <!-- 空状态 -->
  <view class="empty-container" wx:elif="{{empty}}">
    <text>暂无发布的商品</text>
  </view>

  <!-- 商品列表 -->
  <view class="content-scroll" wx:else>
    <!-- 商品列表 -->
    <view class="row" wx:for="{{chunkedItems}}" wx:key="index">
      <block wx:for="{{item}}" wx:key="_id">
        <view class="card" bindtap="navigateToDetail" data-item-id="{{item._id}}">
          <!-- 商品图片 -->
          <image class="item-image" src="{{item.images[0]}}" mode="aspectFill" lazy-load></image>
          
          <!-- 发货方式 -->
          <view 
            class="shipping" 
            style="{{item.shipping === '自提' ? 'color: #ffcc00; background-color: #fff8dc;' : (item.shipping === '包邮' ? 'color: #3cb371; background-color: #e8f5e9;' : '')}}"
          >
            {{item.shipping}}
          </view>
          
          <!-- 商品描述 -->
          <view class="description">{{item.description}}</view>
          
          <!-- 商品价格 -->
          <view class="price">￥{{item.price}}</view>
          
          <!-- 操作按钮 -->
          <view class="action-buttons">
            <button class="delete-btn" catchtap="deleteItem" data-item-id="{{item._id}}">删除</button>
          </view>
        </view>
      </block>
    </view>
  </view>
</view>