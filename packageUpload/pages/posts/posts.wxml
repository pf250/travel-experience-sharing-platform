<view class="container">
  <!-- 第一个 block：标题+描述 -->
  <view class="block block-top">
    <!-- 标题输入 -->
    <view class="title-group">
      <input 
        placeholder="请输入标题（1-20字）..." 
        value="{{title}}"
        bindinput="onTitleInput"
        maxlength="20"
        class="title-input"
      />
    </view>
    <!-- 描述文本域 -->
    <view class="description-group">
      <textarea 
        placeholder="来吧，尽情发挥吧（最多800字）..." 
        value="{{description}}"
        bindinput="onDescInput"
        maxlength="800"
        class="desc-textarea"
        auto-height
      />
    </view>
    <!-- 图片上传区域 -->
    <view class="uploader">
      <block wx:for="{{images}}" wx:key="index">
        <view class="img-item">
          <image src="{{item}}" mode="aspectFill" class="preview-image" />
          <view class="delete-btn" bindtap="deleteImage" data-index="{{index}}">×</view>
        </view>
      </block>
      <!-- 添加图片按钮 -->
      <view class="upload-btn" wx:if="{{images.length < 4}}" bindtap="chooseImage">
        <text class="plus">+</text>
        <text class="tip">添加图片（最多4张）</text>
      </view>
    </view>
  </view>
  <!-- 按钮区域 -->
  <view class="button-group">
    <!-- AI编辑按钮 -->
    <button class="ai-btn" bindtap="showAIDialog">
      AI编辑
    </button>
    <!-- 发布按钮 -->
    <button class="publish-btn" bindtap="handlePublish" disabled="{{!title || !description}}">
      {{title && description ? '发布' : '请填写完整内容'}}
    </button>
  </view>
  
  <!-- AI编辑对话框 -->
  <view class="ai-dialog" wx:if="{{showAIDialog}}">
    <view class="ai-dialog-content">
      <view class="ai-dialog-header">
        <text class="ai-dialog-title">AI编辑</text>
        <text class="ai-dialog-close" bindtap="hideAIDialog">×</text>
      </view>
      <view class="ai-dialog-body">
        <text class="ai-dialog-label">请输入旅游景点名字：</text>
        <input 
          placeholder="例如：故宫、长城、西湖..." 
          value="{{aiScenicSpot}}"
          bindinput="onAIScenicSpotInput"
          class="ai-dialog-input"
        />
      </view>
      <view class="ai-dialog-footer">
        <button class="ai-dialog-cancel" bindtap="hideAIDialog">取消</button>
        <button class="ai-dialog-confirm" bindtap="generateAIContent">生成内容</button>
      </view>
    </view>
  </view>
</view>